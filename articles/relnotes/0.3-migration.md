---
title: Guide de migration et de révision du langage QDK 0,3
description: 'Décrit les nouvelles fonctionnalités de la Microsoft Quantum Development Kit 0,3 et comment migrer les programmes Q # existants.'
author: beheim
uid: microsoft.quantum.relnotes.migration-0-3
ms.author: bettina.heim@microsoft.com
ms.date: 10/29/2018
ms.topic: article
ms.openlocfilehash: df86bf163a300c1ce55d3959bd40aea3d8b8a973
ms.sourcegitcommit: 6ccea4a2006a47569c4e2c2cb37001e132f17476
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/28/2020
ms.locfileid: "77907730"
---
# <a name="qdk-03-language-release-notes-and-migration-guide"></a><span data-ttu-id="cb34c-103">Notes de publication et guide de migration du langage QDK 0,3</span><span class="sxs-lookup"><span data-stu-id="cb34c-103">QDK 0.3 language release notes and migration guide</span></span>

<span data-ttu-id="cb34c-104">Nous sommes ravis d’introduire la dernière mise à jour du kit de développement quantique.</span><span class="sxs-lookup"><span data-stu-id="cb34c-104">We are excited to introduce the newest update to the Quantum Development Kit.</span></span>  <span data-ttu-id="cb34c-105">Cette page offre une vue d’ensemble des nouvelles fonctionnalités du langage Q # et décrit comment [migrer](#Migration) les programmes q # existants vers la nouvelle syntaxe.</span><span class="sxs-lookup"><span data-stu-id="cb34c-105">This page gives an overview of the new Q# language features and describes how to [migrate](#Migration) existing Q# programs to the new syntax.</span></span>  <span data-ttu-id="cb34c-106">Consultez notre documentation complète pour obtenir une description complète de la langue Q # [ici](xref:microsoft.quantum.language.intro).</span><span class="sxs-lookup"><span data-stu-id="cb34c-106">See our complete documentation for the full description of the Q# language [here](xref:microsoft.quantum.language.intro).</span></span>


## <a name="whats-new"></a><span data-ttu-id="cb34c-107">What's New</span><span class="sxs-lookup"><span data-stu-id="cb34c-107">What's New</span></span> 

<span data-ttu-id="cb34c-108">La mise à jour 0,3 est fournie avec une gamme de nouvelles fonctionnalités de langage et d’éditeur.</span><span class="sxs-lookup"><span data-stu-id="cb34c-108">The 0.3 update comes with a range of new language and editor features.</span></span>

### <a name="overview-of-features"></a><span data-ttu-id="cb34c-109">Vue d'ensemble des fonctionnalités</span><span class="sxs-lookup"><span data-stu-id="cb34c-109">Overview of Features</span></span>

- <span data-ttu-id="cb34c-110">Intégration de l’outil de développement amélioré pour Visual Studio et Visual Studio Code, notamment :</span><span class="sxs-lookup"><span data-stu-id="cb34c-110">Enhanced development tool integration for Visual Studio and Visual Studio Code, including:</span></span>
    - <span data-ttu-id="cb34c-111">Compilation en direct et commentaires sur la frappe (*également appelé*</span><span class="sxs-lookup"><span data-stu-id="cb34c-111">Live compilation and feedback on typing (*a.k.a.*</span></span> <span data-ttu-id="cb34c-112">soulignement ondulé).</span><span class="sxs-lookup"><span data-stu-id="cb34c-112">squiggly underlining).</span></span>
    - <span data-ttu-id="cb34c-113">Informations de survol, y compris les résumés de documentation et les signatures de type.</span><span class="sxs-lookup"><span data-stu-id="cb34c-113">Hover information including documentation summaries and type signatures.</span></span>
    - <span data-ttu-id="cb34c-114">Prise en charge de l’accès à la définition.</span><span class="sxs-lookup"><span data-stu-id="cb34c-114">Support for go to definition.</span></span>
    - <span data-ttu-id="cb34c-115">Navigation facile vers les déclarations d’espace de noms, d’opération, de fonction et de type.</span><span class="sxs-lookup"><span data-stu-id="cb34c-115">Easy navigation to namespace, operation, function, and type declarations.</span></span>
    - <span data-ttu-id="cb34c-116">Amélioration des messages de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="cb34c-116">Improved diagnostic messages.</span></span>
- <span data-ttu-id="cb34c-117">Améliorations du langage</span><span class="sxs-lookup"><span data-stu-id="cb34c-117">Language improvements</span></span>
    - <span data-ttu-id="cb34c-118">Initialisations de qubit et de tuples uniques au sein de l’utilisation et empruntation</span><span class="sxs-lookup"><span data-stu-id="cb34c-118">Single qubit and tuple initializations within using and borrowing</span></span>
    - <span data-ttu-id="cb34c-119">Déconstruction de tuples sur toutes les affectations</span><span class="sxs-lookup"><span data-stu-id="cb34c-119">Tuple deconstruction on all assignments</span></span>
    - <span data-ttu-id="cb34c-120">Itération sur les tableaux</span><span class="sxs-lookup"><span data-stu-id="cb34c-120">Iteration over arrays</span></span>
    - <span data-ttu-id="cb34c-121">Expressions conditionnelles</span><span class="sxs-lookup"><span data-stu-id="cb34c-121">Conditional expressions</span></span>
    - <span data-ttu-id="cb34c-122">Abréviation de spécialisation par défaut pour les opérations</span><span class="sxs-lookup"><span data-stu-id="cb34c-122">Default-specialization abbreviation for operations</span></span>
    - <span data-ttu-id="cb34c-123">Constructeurs de type générés automatiquement</span><span class="sxs-lookup"><span data-stu-id="cb34c-123">Auto-generated type constructors</span></span>
    - <span data-ttu-id="cb34c-124">Modificateurs d’expression</span><span class="sxs-lookup"><span data-stu-id="cb34c-124">Expression modifiers</span></span>


## <a name="editor-features"></a><span data-ttu-id="cb34c-125">Fonctionnalités de l’éditeur</span><span class="sxs-lookup"><span data-stu-id="cb34c-125">Editor Features</span></span>

<span data-ttu-id="cb34c-126">Le kit de développement Quantum comprend désormais un serveur de langue pour Q #, ainsi que les intégrations de client pour Visual Studio et Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="cb34c-126">The Quantum Development Kit now includes a language server for Q#, as well as the client integrations for Visual Studio and Visual Studio Code.</span></span>
<span data-ttu-id="cb34c-127">Ceci active un nouvel ensemble de fonctionnalités IntelliSense ainsi qu’un feedback en direct au moment de la frappe sous forme de soulignements ondulés des erreurs et des avertissements.</span><span class="sxs-lookup"><span data-stu-id="cb34c-127">This enables a new set of IntelliSense features along with live feedback on typing in form of squiggly underlinings of errors and warnings.</span></span>
<span data-ttu-id="cb34c-128">En particulier, accéder à la définition est maintenant pris en charge et les informations de pointage s’affichent et contiennent des informations sur le type, ainsi que des informations sur les commentaires de documentation.</span><span class="sxs-lookup"><span data-stu-id="cb34c-128">In particular, go to definition is now supported and hover information is displayed containing type information as well as information from documenting comments.</span></span> <span data-ttu-id="cb34c-129">En outre, les informations de symbole sur les espaces de noms, les opérations, les fonctions et les types définis sont disponibles et permettent à de naviguer rapidement jusqu’aux déclarations.</span><span class="sxs-lookup"><span data-stu-id="cb34c-129">Additionally, symbol information about defined namespaces, operations, functions, and types is available and allows to quickly navigate to declarations.</span></span>    
<span data-ttu-id="cb34c-130">Cette mise à jour améliore considérablement les messages de diagnostic en général, avec une navigation facile et des plages précises pour les diagnostics, et des détails supplémentaires dans les informations affichées dans les info-bulles.</span><span class="sxs-lookup"><span data-stu-id="cb34c-130">This update greatly improves diagnostic messages in general, with easy navigation to and precise ranges for diagnostics and additional details in the displayed hover information.</span></span> 

<span data-ttu-id="cb34c-131">Pour cette version 0,3, le serveur de langage inclus avec le kit de développement quantique ne prend pas en charge plusieurs espaces de travail.</span><span class="sxs-lookup"><span data-stu-id="cb34c-131">For this 0.3 release, the language server included with the Quantum Development Kit does not support multiple workspaces.</span></span>
<span data-ttu-id="cb34c-132">Pour pouvoir utiliser un projet dans VS Code, ouvrez le dossier racine contenant le projet lui-même et tous les projets référencés.</span><span class="sxs-lookup"><span data-stu-id="cb34c-132">In order to work with a project in VS Code, open the root folder containing the project itself and all referenced projects.</span></span>
<span data-ttu-id="cb34c-133">Pour pouvoir travailler avec une solution dans Visual Studio, tous les projets contenus dans la solution doivent se trouver dans le même dossier que la solution ou dans un de ses sous-dossiers.</span><span class="sxs-lookup"><span data-stu-id="cb34c-133">In order to work with a solution in Visual Studio, all projects contained in the solution need to be in the same folder as the solution or in one of its subfolders.</span></span>

## <a name="language-features"></a><span data-ttu-id="cb34c-134">Fonctionnalités de langage</span><span class="sxs-lookup"><span data-stu-id="cb34c-134">Language Features</span></span>

<span data-ttu-id="cb34c-135">En termes de fonctionnalités de langage, cette mise à jour unifie le traitement d’un éventail de modèles de langage.</span><span class="sxs-lookup"><span data-stu-id="cb34c-135">In terms of language features, this update unifies the treatment of a range of language patterns.</span></span>
<span data-ttu-id="cb34c-136">Les constructeurs de type, par exemple, sont générés pour chaque type défini par l’utilisateur et peuvent être partiellement appliqués de la même façon que toute autre fonction.</span><span class="sxs-lookup"><span data-stu-id="cb34c-136">Type constructors, as an example, are generated for each user defined type and can be partially applied much like any other function.</span></span>
<span data-ttu-id="cb34c-137">Un autre exemple est la déconstruction de tuple, qui est désormais entièrement prise en charge dans toutes les attributions.</span><span class="sxs-lookup"><span data-stu-id="cb34c-137">Another example is tuple deconstruction, which is now fully supported within all assignments.</span></span> <span data-ttu-id="cb34c-138">Cela comprend non seulement les instructions Let-, mutable-et Set, mais également la variable d’itération dans les boucles for, ainsi que l’utilisation de et de l’emprunt des allocations.</span><span class="sxs-lookup"><span data-stu-id="cb34c-138">This includes not only let-, mutable-, and set-statements, but also the iteration variable in for-loops as well as using- and borrowing-allocations.</span></span> <span data-ttu-id="cb34c-139">En outre, les déconstructions partielles sont nouvellement prises en charge avec la mise à jour 0,3 ; les traits de soulignement dans les déconstructions indiquent les parties de la valeur qui doivent être ignorées.</span><span class="sxs-lookup"><span data-stu-id="cb34c-139">Additionally, partial deconstructions are newly supported with the 0.3 update; underscores in deconstructions indicate parts of the value that are to be ignored.</span></span> 

<span data-ttu-id="cb34c-140">Le code suivant illustre quelques-unes des nouvelles fonctionnalités :</span><span class="sxs-lookup"><span data-stu-id="cb34c-140">The following code illustrates some of the new features:</span></span>
```qsharp
    let tuples = [(1, 0), (0, 1)];
    mutable res = (0, 0, 0);

    // For-loops can iterate over arrays, and can destructure tuples.
    for ((i1, i2) in tuples) {

        // Mutable assignments can now destructure and ignore parts of tuples,
        // using the same syntax as let-bindings.
        mutable (r1, r2, _) = res;
        set (r1, r2) = (r1 ||| i1, r2 &&& i2);

        let (_, _, s) = res;
        // The new conditional operator can be used inside expressions, avoiding
        // the need for extraneous if-statements.
        set res = (r1, r2, r1 == r2 ? s | s + 1);
    }
```
<span data-ttu-id="cb34c-141">La dernière instruction Set utilise un nouvel opérateur ternaire introduit avec la mise à jour 0,3 pour prendre en charge les expressions conditionnelles.</span><span class="sxs-lookup"><span data-stu-id="cb34c-141">The last set statement uses a new ternary operator that is introduced with the 0.3 update to support conditional expressions.</span></span>
<span data-ttu-id="cb34c-142">Une expression conditionnelle est une expression de la forme `condition ? caseTrue | caseFalse`.</span><span class="sxs-lookup"><span data-stu-id="cb34c-142">A conditional expression is an expression of the form `condition ? caseTrue | caseFalse`.</span></span>
<span data-ttu-id="cb34c-143">Comme vous pouvez le voir dans l’exemple ci-dessus, l’itération sur les tableaux est désormais également prise en charge.</span><span class="sxs-lookup"><span data-stu-id="cb34c-143">As can be seen from the example above, iteration over arrays is now also supported.</span></span>

<span data-ttu-id="cb34c-144">Les allocations au sein d' `using` et de `borrowing` sont récemment possibles pour les qubits uniques, les tableaux qubit et les tuples imbriqués :</span><span class="sxs-lookup"><span data-stu-id="cb34c-144">Allocations within `using` and `borrowing` are newly possible for single qubits, qubit arrays, and nested tuples thereof:</span></span>
```qsharp
    using (qubit = Qubit()) {
        // qubit contains a single qubit
    }

    borrowing ((qubits, qubit) = (Qubit[3], Qubit())) {
        // qubits contains an array of three qubits, and qubit contains a single qubit
    }
```

<span data-ttu-id="cb34c-145">Deux nouvelles directives de générateur de spécialisation `invert` et `distribute` en plus de `auto` sont introduites pour augmenter le contrôle sur la façon dont les spécialisations de functor sont générées.</span><span class="sxs-lookup"><span data-stu-id="cb34c-145">Two new specialization generator directives `invert` and `distribute` in addition to `auto` are introduced to increase control over how functor specializations are generated.</span></span>
<span data-ttu-id="cb34c-146">Une déclaration explicite de la spécialisation `body` par défaut dans les opérations n’est plus obligatoire.</span><span class="sxs-lookup"><span data-stu-id="cb34c-146">An explicit declaration of the default `body` specialization within operations is no longer mandatory.</span></span>
<span data-ttu-id="cb34c-147">Comme pour les fonctions, les instructions peuvent être directement ajoutées à la déclaration d’opération elle-même si aucune autre spécialisation n’est déclarée dans l’opération.</span><span class="sxs-lookup"><span data-stu-id="cb34c-147">Similar to functions, statements may be directly added to the operation declaration itself if no other specialization is declared within the operation.</span></span>
<span data-ttu-id="cb34c-148">Un script de migration est inclus dans la version pour aider à migrer le code existant et tirer parti des nouvelles fonctionnalités du langage (voir la [section sur le script de migration](#MigrationScript)).</span><span class="sxs-lookup"><span data-stu-id="cb34c-148">A migration script is included in the release to help migrating existing code and taking advantage of new language features (see the [section on the migration script](#MigrationScript)).</span></span>

<span data-ttu-id="cb34c-149">Une modification majeure dans la façon dont les types définis par l’utilisateur sont traités est fournie avec la mise à jour 0,3.</span><span class="sxs-lookup"><span data-stu-id="cb34c-149">A major change in how user-defined types are treated comes with the 0.3 update.</span></span> <span data-ttu-id="cb34c-150">Alors que les versions antérieures ont traité les types définis par l’utilisateur comme des sous-types de leur type sous-jacent, ce n’est plus le cas à l’avenir (consultez également la [section sur les modifications avec rupture](#BreakingChanges)).</span><span class="sxs-lookup"><span data-stu-id="cb34c-150">While prior releases treated user defined types as subtypes of their underlying type, this is no longer the case going forward (see also the [section on breaking changes](#BreakingChanges)).</span></span>  
<span data-ttu-id="cb34c-151">Dans le cadre de cette modification, nous allons introduire des modificateurs d’expression qui peuvent être appliqués à certaines expressions.</span><span class="sxs-lookup"><span data-stu-id="cb34c-151">As part of this change we introduce expression modifiers that can be applied to certain expressions.</span></span> <span data-ttu-id="cb34c-152">Les expressions « atomiques » auxquelles les modificateurs peuvent être appliqués sont les identificateurs, les expressions d’élément de tableau et les tuples arité-1.</span><span class="sxs-lookup"><span data-stu-id="cb34c-152">The "atomic" expressions that modifiers can be applied to are identifiers, array item expressions, and arity-1 tuples.</span></span>
<span data-ttu-id="cb34c-153">Les modificateurs lient plus étroits que tout autre combination d’expression, et plus particulièrement plus étroit que le combinateur d’expression d’appel `(` `)`.</span><span class="sxs-lookup"><span data-stu-id="cb34c-153">Modifiers bind tighter than any other expression combinator, and in particular tighter than the call-expression combinator `(` `)`.</span></span> 
<span data-ttu-id="cb34c-154">`Adjoint`, `Controlled`et un nouvel opérateur postfixé « Unwrap » `!` sont traités comme des modificateurs d’expression.</span><span class="sxs-lookup"><span data-stu-id="cb34c-154">`Adjoint`, `Controlled`, and a new "unwrap" postfix operator `!` are treated as expression modifiers.</span></span> <span data-ttu-id="cb34c-155">Le traitement des `Adjoint` et des `Controlled` en tant que modificateurs d’expressions élimine la nécessité de parenthèses dans de nombreux cas.</span><span class="sxs-lookup"><span data-stu-id="cb34c-155">Treating `Adjoint` and `Controlled` as expression modifiers eliminates the need for parenthesis for a lot of cases.</span></span> <span data-ttu-id="cb34c-156">Les expressions ci-dessous, par exemple, sont valides pour `Op`, une opération unitaire, `opArr` un tableau d’opérations unitaires et `arg` un argument approprié :</span><span class="sxs-lookup"><span data-stu-id="cb34c-156">The expressions below for example are valid going forward for `Op`, a unitary operation, `opArr` an array of unitary operations, and `arg` a suitable argument:</span></span> 
```qsharp
    Adjoint Op (arg);
    Controlled opArr[i] (arg);
```
<span data-ttu-id="cb34c-157">Le script de migration va supprimer la plus grande partie des parenthèses inutiles et tirer pleinement parti des nouvelles fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="cb34c-157">The migration script will drop most of the unnecessary parenthesis and take full advantage of the new features.</span></span> <span data-ttu-id="cb34c-158">Toutefois, il est recommandé de noter que le script n’interprète pas le code et qu’il ne prend pas en compte l’interprétation différente du `Controlled` functor dans de rares cas (uniquement pertinent en association avec les applications partielles).</span><span class="sxs-lookup"><span data-stu-id="cb34c-158">However, be advised that the script does not interpret the code, and will not account for the different interpretation of the `Controlled` functor in rare cases (only relevant in combination with partial applications).</span></span>

<span data-ttu-id="cb34c-159">Le nouveau modificateur `!` effectue un cast d’un type défini par l’utilisateur vers son type sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="cb34c-159">The new modifier `!` casts a user-defined type to its underlying type.</span></span> <span data-ttu-id="cb34c-160">Ce cast a été considéré comme un upcast dans les versions précédentes et a été exécuté automatiquement.</span><span class="sxs-lookup"><span data-stu-id="cb34c-160">This cast has been considered an upcast in previous releases and was executed automatically.</span></span> <span data-ttu-id="cb34c-161">Avec la nouvelle interprétation des types définis par l’utilisateur, ce n’est plus le cas et la conversion doit être rendue explicite.</span><span class="sxs-lookup"><span data-stu-id="cb34c-161">With the new interpretation of user defined types this is no longer the case and the cast needs to be made explicit.</span></span>    
<span data-ttu-id="cb34c-162">L’exemple suivant illustre l’utilisation du modificateur new :</span><span class="sxs-lookup"><span data-stu-id="cb34c-162">The following example illustrates how to use the new modifier:</span></span> 
```qsharp
    newtype Unitary = (Qubit => Unit: Adjoint, Controlled);

    operation Foo (unitaries : Unitary[], qubit : Qubit) : Unit {

        for (unitary in unitaries[1 .. Length(unitaries)-1]) {
            // Each element of unitaries is an instance of the user-defined
            // type Unitary, so unitary! unwraps each element to an operation
            // type that we can call.
            unitary! (qubit);
            // The unwrap operator can also be used as a part of functor
            // expressions and when indexing into arrays.
            Adjoint unitary! (qubit);
            Adjoint unitaries[0]! (qubit);
        }
    }
```
<span data-ttu-id="cb34c-163">Comme vous pouvez le voir dans l’exemple, `!` crée une liaison plus stricte que les modificateurs de préfixe, comme `Controlled` et `Adjoint`.</span><span class="sxs-lookup"><span data-stu-id="cb34c-163">As can be seen from the example, `!` binds tighter than prefix modifiers, like `Controlled` and `Adjoint`.</span></span>

## <a name="BreakingChanges"></a><span data-ttu-id="cb34c-164">Modifications avec rupture</span><span class="sxs-lookup"><span data-stu-id="cb34c-164">Breaking Changes</span></span> 

<span data-ttu-id="cb34c-165">La mise à jour 0,3 est fournie avec un nouveau compilateur et contient quelques modifications avec rupture.</span><span class="sxs-lookup"><span data-stu-id="cb34c-165">The 0.3 update comes with a new compiler and contains a handful of breaking changes.</span></span>
<span data-ttu-id="cb34c-166">Pour faciliter la mise à jour du code existant, le compilateur fournit également une option de mise en forme qui compile le code valide ou non valide et émet le code Q # mis en forme en fonction de la compilation générée.</span><span class="sxs-lookup"><span data-stu-id="cb34c-166">To facilitate updating existing code, the compiler also provides a formatting option that compiles valid or invalid code and emits formatted Q# code based on the built compilation.</span></span>
<span data-ttu-id="cb34c-167">Toutes les modifications de syntaxe seront traitées automatiquement par l’outil fourni.</span><span class="sxs-lookup"><span data-stu-id="cb34c-167">All syntax changes will be processed automatically by the provided tool.</span></span> <span data-ttu-id="cb34c-168">Toutefois, vous devrez peut-être apporter des modifications à la façon dont le code valide est interprété (modifications sémantiques) manuellement.</span><span class="sxs-lookup"><span data-stu-id="cb34c-168">However, changes in how valid code is interpreted (semantic changes) may need to be made manually.</span></span> 

<span data-ttu-id="cb34c-169">Outre les modifications listées ci-dessous, le modèle `__*__` où \* est une séquence de caractères autres que des espaces est réservée à un usage interne et ne peut pas être utilisé comme nom de symbole.</span><span class="sxs-lookup"><span data-stu-id="cb34c-169">In addition to the changes listed below, the pattern `__*__` where \* is any sequence of non-whitespace characters is reserved for internal use and cannot be used as a symbol name.</span></span>  

## <a name="syntax-changes"></a><span data-ttu-id="cb34c-170">Modifications de syntaxe</span><span class="sxs-lookup"><span data-stu-id="cb34c-170">Syntax Changes</span></span> 

- <span data-ttu-id="cb34c-171">À partir de la version 0,3, les éléments de tableau ne sont plus séparés par des points-virgules, mais ils sont séparés par des virgules.</span><span class="sxs-lookup"><span data-stu-id="cb34c-171">Starting with the version 0.3, array items are no longer separated by semicolons, but are separated by commas instead.</span></span>
- <span data-ttu-id="cb34c-172">Un point-virgule en revanche est requis après une directive de génération automatique pour les déclarations de spécialisation.</span><span class="sxs-lookup"><span data-stu-id="cb34c-172">A semicolon on the other hand is required after an auto-generation directive for specialization declarations.</span></span>
- <span data-ttu-id="cb34c-173">Les conditions dans les clauses if-, Elif-et until doivent être encapsulées entre parenthèses.</span><span class="sxs-lookup"><span data-stu-id="cb34c-173">Conditions in if-, elif-, and until-clauses need to be encapsulated in parenthesis.</span></span> 

<span data-ttu-id="cb34c-174">Pour toutes les autres modifications de syntaxe, le compilateur génère simplement un avertissement si l’ancienne syntaxe est utilisée.</span><span class="sxs-lookup"><span data-stu-id="cb34c-174">For all other syntax changes the compiler will simply generate a warning if the old syntax is used.</span></span>     
<span data-ttu-id="cb34c-175">Un exemple d’une telle modification est le tuple de symboles dans les spécialisations définies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="cb34c-175">One example for such a change is the symbol tuple in user-defined specializations.</span></span> <span data-ttu-id="cb34c-176">Dans les versions précédentes, une déclaration de spécialisation contrôlée ou contrôlée-contigut spécifiait un argument de symbole unique. à partir de 0,3, il est recommandé de fournir un tel tuple de symboles pour toute la spécialisation avec `...` indiquant que le compilateur doit migrer les symboles à partir de la déclaration pouvant être appelée, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="cb34c-176">While in previous releases a controlled or controlled-adjoint specialization declaration specified a single symbol argument, starting in 0.3 it is encouraged to provide such a symbol tuple for all specialization with `...` indicating that the compiler should migrate the symbols from the callable declaration if needed.</span></span> 

## <a name="semantic-changes"></a><span data-ttu-id="cb34c-177">Modifications sémantiques</span><span class="sxs-lookup"><span data-stu-id="cb34c-177">Semantic Changes</span></span> 

<span data-ttu-id="cb34c-178">L’impact le plus important pour la version 0,3 est la manière dont les types définis par l’utilisateur sont intégrés dans le système de type.</span><span class="sxs-lookup"><span data-stu-id="cb34c-178">The most impactful breaking for the 0.3 release is how user-defined types are integrated into the type system.</span></span> <span data-ttu-id="cb34c-179">Dans les versions antérieures, les types définis par l’utilisateur ont été considérés comme étant un sous-type de leur type sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="cb34c-179">In prior releases user defined types were considered to be a subtype of their underlying type.</span></span> <span data-ttu-id="cb34c-180">Cette version n’est plus le cas.</span><span class="sxs-lookup"><span data-stu-id="cb34c-180">With this release and going forward this is no longer the case.</span></span> <span data-ttu-id="cb34c-181">Les types définis par l’utilisateur sont désormais considérés comme étant leur propre type distinct, et aucun Cast automatique n’existe entre un type défini par l’utilisateur et son type sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="cb34c-181">User defined types are now considered to be their own distinct type, and no automatic cast between a user defined type and its underlying type exists.</span></span> <span data-ttu-id="cb34c-182">Tous les casts doivent être rendus explicites via un opérateur « Unwrap » `!`, et un cast est nécessaire en particulier pour accéder au contenu d’un objet de type défini par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="cb34c-182">All casts need to be made explicit via an "unwrap" operator `!`, and a cast is needed in particular to access the content of a object of user defined type.</span></span>  

<span data-ttu-id="cb34c-183">Les modifications apportées au système de type incluent également le comportement de variance des tableaux et le traitement des objets paramétrables de type.</span><span class="sxs-lookup"><span data-stu-id="cb34c-183">The modifications to the type system also include the variance behavior of arrays, and the treatment of type parameterized objects.</span></span> <span data-ttu-id="cb34c-184">À partir de 0,3, les tableaux mutables et immuables sont invariants.</span><span class="sxs-lookup"><span data-stu-id="cb34c-184">Starting in 0.3, both mutable and immutable arrays are invariant.</span></span> <span data-ttu-id="cb34c-185">En outre, les arguments passés à un appelable ne peuvent pas être paramétrés de type.</span><span class="sxs-lookup"><span data-stu-id="cb34c-185">Additionally, arguments passed to a callable cannot be type parameterized.</span></span> <span data-ttu-id="cb34c-186">Dans ces cas, les arguments de type doivent être passés avec l’identificateur.</span><span class="sxs-lookup"><span data-stu-id="cb34c-186">In these cases, type arguments must be passed along with the identifer.</span></span>

<span data-ttu-id="cb34c-187">Les versions précédentes du compilateur Q # permettaient de fournir une valeur de fonction là où une valeur d’opération était attendue, à condition que la valeur de la fonction contenait les types d’entrée et de sortie corrects.</span><span class="sxs-lookup"><span data-stu-id="cb34c-187">Previous releases of the Q# compiler allowed a function value to be provided where an operation value was expected, as long as the function value had the correct input and output types.</span></span> <span data-ttu-id="cb34c-188">Il s’agissait d’un comportement inattendu qui n’est pas spécifié dans la spécification du langage Q #.</span><span class="sxs-lookup"><span data-stu-id="cb34c-188">This was unintended behavior that is not specified in the Q# language specification.</span></span>
<span data-ttu-id="cb34c-189">Dans le compilateur 0,3, nous avons supprimé ce comportement afin que les valeurs de fonction ne soient plus considérées comme des valeurs d’opération.</span><span class="sxs-lookup"><span data-stu-id="cb34c-189">In the 0.3 compiler, we have removed this behavior so that function values are no longer considered operation values.</span></span>
<span data-ttu-id="cb34c-190">Pour réduire l’interruption au niveau du code existant qui s’appuyait sur ce bogue, nous avons ajouté la fonction ToOperation dans l’espace de noms Microsoft. Quantum. Canon qui convertira explicitement une fonction en une opération avec les mêmes types d’entrée et de sortie.</span><span class="sxs-lookup"><span data-stu-id="cb34c-190">To minimize the disruption to existing code that relied on this bug, we have added the ToOperation function in the Microsoft.Quantum.Canon namespace that will explicitly convert a function into an operation with the same input and output types.</span></span>

<span data-ttu-id="cb34c-191">L’exemple suivant illustre l’utilisation de la fonction `ToOperation` pour modifier une fonction `Square` à une opération `op`:</span><span class="sxs-lookup"><span data-stu-id="cb34c-191">The following example illustrates how to use the `ToOperation` function to change a function `Square` to an operation `op`:</span></span> 
```qsharp
namespace Microsoft.Quantum.Tests {
    open Microsoft.Quantum.Primitive;
    open Microsoft.Quantum.Canon;

    function Square(x : Int) : Int {
        return x * x;
    }

    operation ApplyOp<'T, 'U>(op : ('T => 'U), input : 'T) : 'U {
        return op(input);
    }

    operation ToOperationTest() : Unit {
        let op = ToOperation(Square);
        AssertIntEqual(ApplyOp(op, 3), 9, "ToOperation failed with Square.");
    }
}
```

## <a name="requirements"></a><span data-ttu-id="cb34c-192">Spécifications</span><span class="sxs-lookup"><span data-stu-id="cb34c-192">Requirements</span></span> 

<span data-ttu-id="cb34c-193">La version est prise en charge sur Visual Studio 2017 version 15,8 ou ultérieure pour Windows 10, ainsi que sur Visual Studio Code version 1.27.2 ou ultérieure pour Windows 10, macOS et Linux.</span><span class="sxs-lookup"><span data-stu-id="cb34c-193">The release is supported on Visual Studio 2017 version 15.8 or later for Windows 10, and on Visual Studio Code version 1.27.2 or later for Windows 10, macOS, and Linux.</span></span>

<span data-ttu-id="cb34c-194">Le kit de développement quantum utilise le kit SDK .NET Core (2,0 ou version ultérieure).</span><span class="sxs-lookup"><span data-stu-id="cb34c-194">The Quantum Development Kit uses the .NET Core SDK (2.0 or later).</span></span>

## <a name="installation"></a><span data-ttu-id="cb34c-195">Installation</span><span class="sxs-lookup"><span data-stu-id="cb34c-195">Installation</span></span>  

<span data-ttu-id="cb34c-196">Suivez les instructions d’installation [ici](../install-guide/index.md).</span><span class="sxs-lookup"><span data-stu-id="cb34c-196">Follow the installation instructions [here](../install-guide/index.md).</span></span>

<span data-ttu-id="cb34c-197">Vous pouvez voir des avertissements (« des conflits entre différentes versions de «System. Reflection. Metadata » détectés n’ont pas pu être résolus.») si votre version actuelle de kit SDK .NET Core n’est pas à jour.</span><span class="sxs-lookup"><span data-stu-id="cb34c-197">You may see warnings ("Found conflicts between different versions of "System.Reflection.Metadata" that could not be resolved.") if your current version of .NET Core SDK is not up to date.</span></span>  <span data-ttu-id="cb34c-198">Toutefois, si vous utilisez kit SDK .NET Core (2,0 ou version ultérieure), ces avertissements peuvent être ignorés.</span><span class="sxs-lookup"><span data-stu-id="cb34c-198">However, if you are using .NET Core SDK (2.0 or later), these warnings may be ignored.</span></span>


- <span data-ttu-id="cb34c-199">La version est fournie avec un certain nombre d’exemples différents illustrant l’utilisation des fonctionnalités existantes du kit de développement quantique, ainsi que des nouvelles fonctionnalités disponibles dans cette version.</span><span class="sxs-lookup"><span data-stu-id="cb34c-199">The release is provided along with a number of different samples showing how to use both existing features of the Quantum Development Kit, and the new features available with this release.</span></span> <span data-ttu-id="cb34c-200">Vous pouvez trouver ces exemples sur GitHub dans le référentiel [Microsoft/Quantum](https://github.com/Microsoft/Quantum) .</span><span class="sxs-lookup"><span data-stu-id="cb34c-200">These samples can be can be found on GitHub at the [Microsoft/Quantum](https://github.com/Microsoft/Quantum) repository.</span></span>


## <a name="Migration"></a><span data-ttu-id="cb34c-201">Migration de projets existants vers Q # 0,3</span><span class="sxs-lookup"><span data-stu-id="cb34c-201">Migrating Existing Projects to Q# 0.3</span></span> 

<span data-ttu-id="cb34c-202">Si vous avez déjà des projets Q # de la version 0,2 du kit de développement Quantum, suivez les étapes ci-dessous pour migrer ces projets vers la version la plus récente.</span><span class="sxs-lookup"><span data-stu-id="cb34c-202">If you have existing Q# projects from version 0.2 of the Quantum Development Kit, the following are the steps to migrate those projects to the newest version.</span></span> <span data-ttu-id="cb34c-203">Nous fournissons également un [script de migration](#MigrationScript) pour vous aider dans le processus.</span><span class="sxs-lookup"><span data-stu-id="cb34c-203">We also provide a [migration script](#MigrationScript) to help you with the process.</span></span>

> [!NOTE]
> <span data-ttu-id="cb34c-204">Les projets doivent être mis à niveau dans l’ordre.</span><span class="sxs-lookup"><span data-stu-id="cb34c-204">Projects need to be upgraded in order.</span></span> <span data-ttu-id="cb34c-205">Si vous disposez d’une solution avec plusieurs projets, mettez à jour chaque projet dans l’ordre dans lequel ils sont référencés.</span><span class="sxs-lookup"><span data-stu-id="cb34c-205">If you have a solution with multiple projects update each project in the order they are referenced.</span></span>


1. <span data-ttu-id="cb34c-206">À partir d’une ligne de commande, exécutez `dotnet clean` pour supprimer tous les fichiers binaires et les fichiers intermédiaires existants.</span><span class="sxs-lookup"><span data-stu-id="cb34c-206">From a command line, Run `dotnet clean` to remove all existing binaries and intermediate files.</span></span>
2. <span data-ttu-id="cb34c-207">Dans un éditeur de texte, modifiez le fichier. csproj pour remplacer la version de tous les `PackageReference` Microsoft. Quantum par la version 0.3.1811.2802-Preview, par exemple :</span><span class="sxs-lookup"><span data-stu-id="cb34c-207">In a text editor, edit the .csproj file to change the version of all the "Microsoft.Quantum" `PackageReference` to version 0.3.1811.2802-preview, for example:</span></span>
```xml
    <PackageReference Include="Microsoft.Quantum.Canon" Version="0.3.1811.2802" />
    <PackageReference Include="Microsoft.Quantum.Development.Kit" Version="0.3.1811.2802" />
```
4. <span data-ttu-id="cb34c-208">À partir de la ligne de commande, utilisez l’outil de mise en forme intégré dans le compilateur de ligne de commande pour traiter toutes les modifications de syntaxe en exécutant cette commande : `dotnet msbuild /t:qsharpformat`</span><span class="sxs-lookup"><span data-stu-id="cb34c-208">From the command line, use the formatting tool integrated into the command line compiler to address all syntax changes by running this command: `dotnet msbuild /t:qsharpformat`</span></span>  
    - <span data-ttu-id="cb34c-209">Vos fichiers seront migrés sur place.</span><span class="sxs-lookup"><span data-stu-id="cb34c-209">Your files will be migrated in-place.</span></span> <span data-ttu-id="cb34c-210">Une sauvegarde de tous les fichiers d’origine sera copiée dans `obj\qsharp\.backup`</span><span class="sxs-lookup"><span data-stu-id="cb34c-210">A backup of all the original files will be copied to `obj\qsharp\.backup`</span></span>
    - <span data-ttu-id="cb34c-211">L’outil de mise en forme compile le projet en ignorant toutes les erreurs de compilation et génère le code Q # mis en forme en fonction de la compilation de la Build.</span><span class="sxs-lookup"><span data-stu-id="cb34c-211">The formatting tool will compile the project ignoring all compilation errors and generate formatted Q# code based on the build compilation.</span></span> 
       <span data-ttu-id="cb34c-212">Tout symbole non reconnu (par exemple, un nom de variable non défini) sera remplacé par un texte d’espace réservé qui doit être remplacé manuellement après la mise en forme.</span><span class="sxs-lookup"><span data-stu-id="cb34c-212">Any unrecognized symbol (e.g. an undefined variable name) will be replaced by a placeholder text that needs to be replaced manually after formatting.</span></span> <span data-ttu-id="cb34c-213">Dans ce cas, la mise en forme s’effectue correctement lors de la génération d’un avertissement pour le fichier affecté.</span><span class="sxs-lookup"><span data-stu-id="cb34c-213">In this case, the formatting succeeds while generating a warning for the affected file.</span></span>     
    - <span data-ttu-id="cb34c-214">La mise en forme et, en particulier, tout espace blanc dans le fichier sera modifié dans le code émis.</span><span class="sxs-lookup"><span data-stu-id="cb34c-214">The formatting and in particular any white space in the file will be changed in the emitted code.</span></span> <span data-ttu-id="cb34c-215">Les commentaires sont conservés.</span><span class="sxs-lookup"><span data-stu-id="cb34c-215">Comments will be preserved.</span></span>   
5. <span data-ttu-id="cb34c-216">Après l’exécution de cette opération, vous devrez peut-être encore résoudre manuellement les modifications sémantiques dans les cas où l’interprétation sémantique du code a changé.</span><span class="sxs-lookup"><span data-stu-id="cb34c-216">After running this, you might still need to manually address semantic changes in cases where the semantic interpretation of the code has changed.</span></span> <span data-ttu-id="cb34c-217">Toutes ces erreurs seront signalées par IntelliSense dans Visual Studio ou Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="cb34c-217">All these errors will be reported by IntelliSense in Visual Studio or Visual Studio Code.</span></span>
    - <span data-ttu-id="cb34c-218">Ouvrez le dossier racine du projet ou la solution contenante dans Visual Studio 2017 ou Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="cb34c-218">Open the root folder of the project or the containing solution in Visual Studio 2017 or Visual Studio Code.</span></span>
    - <span data-ttu-id="cb34c-219">Après avoir ouvert un fichier .qs dans l’éditeur, vous devez voir la sortie de l’extension du langage Q# dans la fenêtre de sortie.</span><span class="sxs-lookup"><span data-stu-id="cb34c-219">After opening a .qs file in the editor, you should see the output of the Q# language extension in the output window.</span></span>
    - <span data-ttu-id="cb34c-220">Une fois que le projet a été chargé avec succès (ce qui est indiqué dans la fenêtre de sortie), ouvrez chaque fichier et résolvez manuellement tous les problèmes restants.</span><span class="sxs-lookup"><span data-stu-id="cb34c-220">After the project has loaded successfully (indicated in the output window) open each file and manually to address all remaining issues.</span></span>


> [!NOTE]
> * <span data-ttu-id="cb34c-221">Pour la version 0,3, le serveur de langage inclus avec le kit de développement quantique ne prend pas en charge plusieurs espaces de travail.</span><span class="sxs-lookup"><span data-stu-id="cb34c-221">For the 0.3 release, the language server included with the Quantum Development Kit does not support multiple workspaces.</span></span>
> * <span data-ttu-id="cb34c-222">Pour pouvoir travailler avec un projet dans Visual Studio Code, ouvrez le dossier racine contenant le projet lui-même et tous les projets référencés.</span><span class="sxs-lookup"><span data-stu-id="cb34c-222">In order to work with a project in Visual Studio Code, open the root folder containing the project itself and all referenced projects.</span></span>   
> * <span data-ttu-id="cb34c-223">Pour pouvoir travailler avec une solution dans Visual Studio, tous les projets contenus dans la solution doivent se trouver dans le même dossier que la solution ou dans un de ses sous-dossiers.</span><span class="sxs-lookup"><span data-stu-id="cb34c-223">In order to work with a solution in Visual Studio, all projects contained in the solution need to be in the same folder as the solution or in one of its subfolders.</span></span>  
> * <span data-ttu-id="cb34c-224">Les références entre les projets migrés vers 0,3 et versions ultérieures et les projets qui utilisent des versions de package anciennes ne sont **pas** prises en charge.</span><span class="sxs-lookup"><span data-stu-id="cb34c-224">References between projects migrated to 0.3 and higher and projects using older package versions are **not** supported.</span></span>




## <a name="MigrationScript"></a><span data-ttu-id="cb34c-225">Script de migration</span><span class="sxs-lookup"><span data-stu-id="cb34c-225">Migration script</span></span> 

<span data-ttu-id="cb34c-226">Pour faciliter la migration de projet, un script PowerShell peut être téléchargé [ici](https://raw.githubusercontent.com/Microsoft/Quantum/release/v0.3.1810/utilities/qdk-migrate.ps1).</span><span class="sxs-lookup"><span data-stu-id="cb34c-226">In order to facilitate project migration, a PowerShell script is provided that can be downloaded [here](https://raw.githubusercontent.com/Microsoft/Quantum/release/v0.3.1810/utilities/qdk-migrate.ps1).</span></span>
<span data-ttu-id="cb34c-227">Ce script permet de migrer des projets à partir de la version 0,2 du kit de développement Quantum pour utiliser la version 0,3.</span><span class="sxs-lookup"><span data-stu-id="cb34c-227">This script helps migrate projects from version 0.2 of the Quantum Development Kit to use version 0.3.</span></span>

> [!NOTE]
> <span data-ttu-id="cb34c-228">Le script de migration nécessite Windows PowerShell ou PowerShell Core pour s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="cb34c-228">The migration script requires Windows PowerShell or PowerShell Core to run.</span></span>
> <span data-ttu-id="cb34c-229">Windows PowerShell est préinstallé avec Windows 10.</span><span class="sxs-lookup"><span data-stu-id="cb34c-229">Windows PowerShell comes pre-installed with Windows 10.</span></span>
> <span data-ttu-id="cb34c-230">Téléchargez PowerShell Core pour Windows, macOS ou Linux sur https://github.com/PowerShell/PowerShell.</span><span class="sxs-lookup"><span data-stu-id="cb34c-230">Download PowerShell Core for Windows, macOS, or Linux at https://github.com/PowerShell/PowerShell.</span></span>

<span data-ttu-id="cb34c-231">Le script exécute les quatre étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="cb34c-231">The script executes the following four steps:</span></span>

- <span data-ttu-id="cb34c-232">Le projet est généré avec la version précédente du kit de développement Quantum pour s’assurer que la migration est susceptible d’être réussie.</span><span class="sxs-lookup"><span data-stu-id="cb34c-232">The project is built with the previous version of the Quantum Development Kit to ensure that migration is likely to succeed.</span></span> <span data-ttu-id="cb34c-233">Cette étape peut être ignorée à l’aide du paramètre `-Force` du script.</span><span class="sxs-lookup"><span data-stu-id="cb34c-233">This step can be skipped by using the `-Force` parameter to the script.</span></span>
- <span data-ttu-id="cb34c-234">De nouveaux modèles de projet sont installés.</span><span class="sxs-lookup"><span data-stu-id="cb34c-234">New project templates are installed.</span></span>
- <span data-ttu-id="cb34c-235">Le projet est mis à jour pour utiliser la version actuelle du kit de développement quantique.</span><span class="sxs-lookup"><span data-stu-id="cb34c-235">The project is updated to use the current version of the Quantum Development Kit.</span></span>
- <span data-ttu-id="cb34c-236">L’outil de mise en forme fourni avec la version 0,3 du kit de développement Quantum est appliqué pour traiter automatiquement la plupart des modifications importantes décrites ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="cb34c-236">The formatting tool provided with version 0.3 of the Quantum Development Kit is applied to automatically address most of the breaking changes documented above.</span></span>

<span data-ttu-id="cb34c-237">Une fois ces quatre étapes terminées, il peut y avoir des problèmes de migration restants qui doivent être gérés manuellement.</span><span class="sxs-lookup"><span data-stu-id="cb34c-237">After these four steps complete, there may be some remaining migration issues which must be handled manually.</span></span>
<span data-ttu-id="cb34c-238">L’utilisation de la dernière version des extensions du kit de développement Quantum pour Visual Studio 2017 et Visual Studio Code peut vous aider à trouver ces problèmes facilement.</span><span class="sxs-lookup"><span data-stu-id="cb34c-238">Using the latest version of the Quantum Development Kit extensions for Visual Studio 2017 and Visual Studio Code can help find these issues easily.</span></span>

<span data-ttu-id="cb34c-239">La documentation du script peut être obtenue en exécutant l’une des commandes suivantes dans le dossier où se trouve le script :</span><span class="sxs-lookup"><span data-stu-id="cb34c-239">The documentation for the script can be obtained by running one of the following commands in the folder where the script is located:</span></span>

```powershell
Get-Help ./qdk-migrate.ps1
Get-Help -Online ./qdk-migrate.ps1
```

> [!NOTE]
> <span data-ttu-id="cb34c-240">Par défaut, Windows empêche l’exécution de scripts comme mesure de sécurité.</span><span class="sxs-lookup"><span data-stu-id="cb34c-240">By default, Windows prevents the execution of any scripts as a security measure.</span></span>
> <span data-ttu-id="cb34c-241">Pour autoriser l’exécution de scripts tels que `qdk-migrate.ps1` sous Windows, vous devrez peut-être modifier la stratégie d’exécution.</span><span class="sxs-lookup"><span data-stu-id="cb34c-241">To allow scripts such as `qdk-migrate.ps1` to run on Windows, you may need to change the execution policy.</span></span>
> <span data-ttu-id="cb34c-242">Pour ce faire, exécutez la commande `Set-ExecutionPolicy` :</span><span class="sxs-lookup"><span data-stu-id="cb34c-242">To do so, run the `Set-ExecutionPolicy` command:</span></span>
> ```powershell
> Set-ExecutionPolicy RemoteSigned -Scope Process
> ```
> <span data-ttu-id="cb34c-243">La stratégie d’exécution est ensuite rétablie lorsque vous quittez PowerShell.</span><span class="sxs-lookup"><span data-stu-id="cb34c-243">The execution policy will then be reverted when you exit PowerShell.</span></span>
> <span data-ttu-id="cb34c-244">Si vous souhaitez enregistrer la stratégie d’exécution, utilisez une valeur différente pour `-Scope`:</span><span class="sxs-lookup"><span data-stu-id="cb34c-244">If you would like to save the execution policy, use a different value for `-Scope`:</span></span>
> ```powershell
> Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
> ```

